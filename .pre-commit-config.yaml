repos:
  # Swift-specific hooks
  - repo: local
    hooks:
      - id: swiftlint
        name: SwiftLint
        description: Lints Swift code with SwiftLint
        entry: swiftlint lint --strict --quiet
        language: system
        types: [swift]
        pass_filenames: false
        stages:
          - pre-commit

      - id: swiftlint-autocorrect
        name: SwiftLint Autocorrect
        description: Auto-fixes SwiftLint violations
        entry: swiftlint --fix --quiet
        language: system
        types: [swift]
        pass_filenames: false
        stages:
          - pre-commit

      - id: swift-build-check
        name: Swift Build Check
        description: Verifies Swift code compiles
        entry: swift build
        language: system
        types: [swift]
        pass_filenames: false
        stages:
          - pre-push

  # Security and secret detection
  - repo: https://github.com/gitleaks/gitleaks
    rev: v8.22.1
    hooks:
      - id: gitleaks
        name: Detect secrets
        description: Scans for secrets and credentials

  # General file quality hooks
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: end-of-file-fixer
        name: Fix end of files
        description: Ensures files end with newline
        exclude: ^.claude/

      - id: check-yaml
        name: Check YAML syntax
        description: Validates YAML file syntax
        args:
          - --allow-multiple-documents

      - id: check-json
        name: Check JSON syntax
        description: Validates JSON file syntax

      - id: check-added-large-files
        name: Check for large files
        description: Prevents committing files larger than 500KB
        args:
          - --maxkb=1000

      - id: check-merge-conflict
        name: Check for merge conflicts
        description: Detects merge conflict markers

      - id: detect-private-key
        name: Detect private keys
        description: Scans for private key files

      - id: trailing-whitespace
        name: Trim trailing whitespace
        description: Removes trailing whitespace from lines
        exclude: ^.claude/

  # Markdown linting
  - repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.43.0
    hooks:
      - id: markdownlint-fix
        name: Lint Markdown
        description: Lints and fixes Markdown files
        exclude: ^.claude/
